<!DOCTYPE HTML>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title></title>
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="generator" content="" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
		<link href="css/haiersoft.css" rel="stylesheet" type="text/css" media="screen,print" />
		<link href="css/print.css" rel="stylesheet" type="text/css" media="print" />
		<script src="js/jquery-1.10.1.min.js"></script>
		<script src="js/side.js" type="text/javascript"></script>
		<script src="js/jquery.cookie.js"></script>
		<script src="src/lib/ajax.js"></script>
		<script src="src/lib/util.js"></script>
		<script src="js/config/configure.js"></script>
		<script src="src/lib/checkLogin.js"></script>

		<!-- 文件上传 相关-->
		<link href="fileUpload/css/bootstrap.min.css" rel="stylesheet">
	</head>

	<body>
		<!-- Popup -->
		<div id="Popup">
			<h3>蝴蝶平台：刷新百度CDN缓存</h3>
			<div style="width: 1200px;padding-left:40px;padding-top:20px;color:	#006400;line-height:20px" id="d_msg"></div>
			
			<div id="SubPopup">
				<font color="red">查看加速域名</font>
				<hr>
				<div style="width: 1124px;">
					<input name="" type="button" onclick="queryAll()" value="查看所有加速域名" onmousemove="this.className='input_move'"
					 onmouseout="this.className='input_out'"></br></br>
					<div id="d_all"></div>
				</div>
				<hr>
			</div>
			
			<div id="SubPopup">
				<font color="red">刷新缓存</font>
				<hr>
				<div style="width: 1124px;">
					URL：<input id="f_url" name="url" type="text" size="80" value="">(多个逗号分隔)</br></br>
					目录：<input id="f_dic" name="dic" type="text" size="80" value="">(多个逗号分隔)</br></br>
					<input name="" type="button" onclick="refreshCache()" value="刷新缓存" onmousemove="this.className='input_move'"
					 onmouseout="this.className='input_out'">
				</div>
				<hr>
			</div>
			
			<div id="SubPopup">
				<font color="red">创建加速域名</font>
				<hr>
				<div style="width: 1124px;">
					域名：<input id="f_domainName" name="domainName" type="text" size="13" value="">
					源IP：<input id="f_sourceIP" name="sourceIP" type="text" size="50" value="">(多个IP,逗号分隔)
					<input name="" type="button" onclick="createDomain()" value="创建加速域名" onmousemove="this.className='input_move'"
					 onmouseout="this.className='input_out'">
				</div>
				<hr>
			</div>
			
			<div id="SubPopup">
				<font color="red">删除加速域名</font>
				<hr>
				<div style="width: 1124px;">
					删除域名：<input id="f_domainName_del" name="domainName_del" type="text" size="13" value="">
					<input name="" type="button" onclick="deleteDomain()" value="删除加速域名" onmousemove="this.className='input_move'"
					 onmouseout="this.className='input_out'">
				</div>
				<hr>
			</div>

		</div>
		<script type="text/javascript">
			function refreshCache() {
				var name = $("#f_url").val();
				var ip = $("#f_dic").val();
				var url = port + "/cdn?params={'type':4,'param1':'" + name + "','param2':'" + ip + "'}";
				$.getJSON(url, function(data) {
					if (data.code == 0) {
						alert("刷新加速域名成功：" + data.json);
						var d = document.getElementById("d_msg");
						d.innerHTML = "刷新缓存结果："+data.json;
					}
				})
			}

			function createDomain() {
				var name = $("#f_domainName").val();
				var ip = $("#f_sourceIP").val();
				var url = port + "/cdn?params={'type':1,'param1':'" + name + "','param2':'" + ip + "'}";
				$.getJSON(url, function(data) {
					if (data.code == 0) {
						alert("创建加速域名成功：CName:" + data.json);
						var d = document.getElementById("d_msg");
						d.innerHTML = "创建加速域名成功："+data.json;
					}
				})
			}

			function deleteDomain() {
				var name = $("#f_domainName_del").val();
				var url = port + "/cdn?params={type:2,'param1':'" + name + "'}";
				$.getJSON(url, function(data) {
					if (data.code == 0) {
						alert("删除加速域名成功。" + data.json);
						var d = document.getElementById("d_msg");
						d.innerHTML = "删除加速域名成功："+data.json;
					}
				})
			}

			function queryAll() {
				var url = port + "/cdn?params={'type':3}";
				$.getJSON(url, function(data) {
					if (data.code == 0) {
						var d = document.getElementById("d_all");
						d.innerHTML = "所有加速域名："+data.json;
						var d1 = document.getElementById("d_msg");
						d1.innerHTML = "所有加速域名："+data.json;
					}
				})
			}
		</script>
	</body>

</html>
